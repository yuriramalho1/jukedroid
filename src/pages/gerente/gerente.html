<ion-header>
  <ion-navbar>
    <button ion-button menuToggle *ngIf="!isModal">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons start *ngIf="isModal">
      <button ion-button (click)="voltar()" color="light">Voltar</button>
    </ion-buttons>
    <ion-title>{{isModal ? gerente.nome : 'Meus Cambistas'}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col col-6>Cambistas:  {{usuariosCamb}}</ion-col> <ion-col col-6>Ativos:  {{usuariosCamb}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <button ion-button (click)="showModal(u, 'CADASTRO')" icon-left color="primary" class="aposta-button">
          <ion-icon name="add-circle"></ion-icon>Novo Cambista</button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12>
        <button ion-button (click)="selectCambistas()" icon-left color="primary" class="aposta-button">
          <ion-icon name="checkmark-circle"></ion-icon>Adicionar Cambista
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-searchbar placeholder="Nome do Cambista" (ionInput)="filterItems($event)"></ion-searchbar>

  <ion-card *ngFor="let u of listaCambistas">
    <ion-card-content style="padding: 0;">
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            <ion-row class="aposta-row">
              <ion-col col-7>
                <ion-label class="labelUsuario">Nome</ion-label>
                <strong>{{u.nome}}</strong>
              </ion-col>
              <ion-col col-5>
                <ion-label class="labelUsuario">Tipo</ion-label>
                <strong>{{u.tipoUsuario}}</strong>
              </ion-col>
              <ion-col col-7>
                <ion-label class="labelUsuario">CPF</ion-label>
                <strong>{{cpf_mask(u.cpf)}}</strong>
              </ion-col>
              <ion-col col-5>
                <ion-label class="labelUsuario">Saldo</ion-label>
                <strong>{{u.conta.saldo || 0 | currency : 'BRL'}}</strong>
              </ion-col>
              <ion-col col-7>
                <ion-label class="labelUsuario">Login</ion-label>
                <strong>{{u.login}}</strong>
              </ion-col>
              <ion-col col-5 *ngIf="u.tipoUsuario != 'CLIENTE'">
                <ion-label class="labelUsuario">Limite</ion-label>
                <strong>{{u.conta.saldoLimite || 0 | currency : 'BRL'}}</strong>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col col-12 style="padding: 0px;">
            <ion-row class="aposta-row">
              <ion-col col-2 class="legendaBotoesUsuario">Editar</ion-col>
              <ion-col col-2 class="legendaBotoesUsuario">Caixa</ion-col>
              <ion-col col-2 class="legendaBotoesUsuario">Comissão</ion-col>
              <ion-col col-2 class="legendaBotoesUsuario">Crédito</ion-col>
              <ion-col col-2 class="legendaBotoesUsuario">Desabilitar</ion-col>
              <ion-col col-2 class="legendaBotoesUsuario" style="font-size: 10px">Desvincular</ion-col>
            </ion-row>
            <ion-row class="aposta-row">
              <ion-col col-2 class="botoesUsuario"><button ion-button icon-only small full (click)="showModal(u, 'INFO')"> <ion-icon name="create"></ion-icon></button></ion-col>
              <ion-col col-2 class="botoesUsuario"><button ion-button icon-only small full (click)="showModal(u, 'CAIXA')"> <ion-icon name="briefcase"></ion-icon></button></ion-col>
              <ion-col col-2 class="botoesUsuario"><button ion-button icon-only small full (click)="showModal(u, 'COMISSAO')"> <ion-icon name="cash"></ion-icon></button></ion-col>
              <ion-col col-2 class="botoesUsuario"><button ion-button icon-only small full (click)="showModal(u, 'CREDITO')"> <ion-icon class="fa-dollar icon-menu"></ion-icon></button></ion-col>
              <ion-col col-2 class="botoesUsuario"><button ion-button icon-only small full (click)="showAlert(u, 'DESABILITA_USUARIO')" [ngClass]="{'btnDisable': u.ativo == false}"> <ion-icon name="trash"></ion-icon></button></ion-col>
              <ion-col col-2 class="botoesUsuario"><button ion-button icon-only small full (click)="desvincularCambista(u)" color="danger"> <ion-icon name="close"></ion-icon></button></ion-col>
            </ion-row>
          </ion-col>
       </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>
